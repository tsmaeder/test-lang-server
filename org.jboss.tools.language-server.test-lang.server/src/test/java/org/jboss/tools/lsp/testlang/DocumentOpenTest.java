package org.jboss.tools.lsp.testlang;

import org.junit.Assert;
import org.junit.Test;

import java.io.IOException;
import java.net.URISyntaxException;

public class DocumentOpenTest {
    @Test
    public void testTrailingNewline() throws IOException, URISyntaxException {
        DocumentManager dm = new DocumentManager();
        dm.didOpen("foo", "foo\n");
        Assert.assertEquals(2, dm.getContent("foo").size());
        
        dm.didOpen("bar", "foo\r\n");
        Assert.assertEquals(2, dm.getContent("bar").size());

    }
    
    @Test
    public void testNoTrailingNewline() throws IOException, URISyntaxException {
        DocumentManager dm = new DocumentManager();
        dm.didOpen("foo", "foo\nbar");
        Assert.assertEquals(2, dm.getContent("foo").size());

        dm.didOpen("bar", "foo\r\nbar");
        Assert.assertEquals(2, dm.getContent("bar").size());
}

}
